[gd_scene load_steps=29 format=3 uid="uid://cf64v5ohrm125"]

[ext_resource type="PackedScene" uid="uid://qvs2jwaqxfkp" path="res://Hands/Magic_Hands.glb" id="1_uxeip"]
[ext_resource type="Texture2D" uid="uid://dyt2wp8hf6e7j" path="res://Hands/Hands_Tex.png" id="2_tv1s5"]
[ext_resource type="Texture2D" uid="uid://bffkihh54jk2m" path="res://Hands/Hands_Nrm.png" id="3_8l5x7"]
[ext_resource type="PackedScene" uid="uid://dibxmvly5elpn" path="res://Spells/Fireball/Fireball_In-Hand.tscn" id="4_pcsau"]
[ext_resource type="PackedScene" uid="uid://bewc1hnbc3rf5" path="res://Colt/colt.tscn" id="5_fjyl6"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qupw8"]
albedo_texture = ExtResource("2_tv1s5")
metallic = 0.6
metallic_specular = 0.3
roughness = 0.5
normal_enabled = true
normal_texture = ExtResource("3_8l5x7")
rim_enabled = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dndj7"]
animation = &"Hands_Motion"
use_custom_timeline = true
timeline_length = 0.8
stretch_time_scale = true
start_offset = 0.0
loop_mode = 1

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_36fn2"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Bone.001", "Armature/Skeleton3D:Bone.022", "Armature/Skeleton3D:Root"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1hfs4"]
animation = &"Hands_Magic_Cast"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_c57it"]
animation = &"Hands_Magic_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kpm5o"]
animation = &"Hands_Pistol_Fire"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_13won"]
animation = &"Hands_Pistol_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vxc84"]
animation = &"Hands_Pistol_Reload"
use_custom_timeline = true
timeline_length = 1.5
stretch_time_scale = true
start_offset = 0.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_enu6o"]
animation = &"Hands_Swap"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a6f0p"]
animation = &"Hands_Swap"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ydv3p"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_obn4b"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8ubos"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jnnmv"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r712x"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l3gkb"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sc2ul"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1o78c"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1w0rq"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nc5tv"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8lred"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_8vosr"]
states/Hands_Magic_Cast/node = SubResource("AnimationNodeAnimation_1hfs4")
states/Hands_Magic_Cast/position = Vector2(720, 100)
states/Hands_Magic_Idle/node = SubResource("AnimationNodeAnimation_c57it")
states/Hands_Magic_Idle/position = Vector2(488, 100)
states/Hands_Pistol_Fire/node = SubResource("AnimationNodeAnimation_kpm5o")
states/Hands_Pistol_Fire/position = Vector2(720, 289)
states/Hands_Pistol_Idle/node = SubResource("AnimationNodeAnimation_13won")
states/Hands_Pistol_Idle/position = Vector2(488, 289)
states/Hands_Pistol_Reload/node = SubResource("AnimationNodeAnimation_vxc84")
states/Hands_Pistol_Reload/position = Vector2(617, 400)
states/Hands_Swap/node = SubResource("AnimationNodeAnimation_a6f0p")
states/Hands_Swap/position = Vector2(343, 194)
"states/Hands_Swap 2/node" = SubResource("AnimationNodeAnimation_enu6o")
"states/Hands_Swap 2/position" = Vector2(610, 194)
transitions = ["Start", "Hands_Magic_Idle", SubResource("AnimationNodeStateMachineTransition_ydv3p"), "Hands_Magic_Idle", "Hands_Magic_Cast", SubResource("AnimationNodeStateMachineTransition_obn4b"), "Hands_Magic_Cast", "Hands_Magic_Idle", SubResource("AnimationNodeStateMachineTransition_8ubos"), "Hands_Magic_Idle", "Hands_Swap 2", SubResource("AnimationNodeStateMachineTransition_jnnmv"), "Hands_Swap 2", "Hands_Pistol_Idle", SubResource("AnimationNodeStateMachineTransition_r712x"), "Hands_Pistol_Idle", "Hands_Swap", SubResource("AnimationNodeStateMachineTransition_l3gkb"), "Hands_Swap", "Hands_Magic_Idle", SubResource("AnimationNodeStateMachineTransition_sc2ul"), "Hands_Pistol_Idle", "Hands_Pistol_Fire", SubResource("AnimationNodeStateMachineTransition_1o78c"), "Hands_Pistol_Idle", "Hands_Pistol_Reload", SubResource("AnimationNodeStateMachineTransition_1w0rq"), "Hands_Pistol_Fire", "Hands_Pistol_Idle", SubResource("AnimationNodeStateMachineTransition_nc5tv"), "Hands_Pistol_Reload", "Hands_Pistol_Idle", SubResource("AnimationNodeStateMachineTransition_8lred")]
graph_offset = Vector2(-10, -32.791)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_q5xbq"]
graph_offset = Vector2(-429.385, -1.46055)
nodes/Animation/node = SubResource("AnimationNodeAnimation_dndj7")
nodes/Animation/position = Vector2(-80, 220)
nodes/MotionBlend/node = SubResource("AnimationNodeBlend2_36fn2")
nodes/MotionBlend/position = Vector2(200, 100)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_8vosr")
nodes/StateMachine/position = Vector2(-80, 20)
nodes/output/position = Vector2(460, 140)
node_connections = [&"MotionBlend", 0, &"StateMachine", &"MotionBlend", 1, &"Animation", &"output", 0, &"MotionBlend"]

[node name="Magic_Hands" instance=ExtResource("1_uxeip")]

[node name="Skeleton3D" parent="Armature" index="0"]
bones/1/position = Vector3(-0.0934765, -0.0567971, 0.14646)
bones/1/rotation = Quaternion(-0.524595, -0.579828, 0.204161, 0.588998)
bones/2/rotation = Quaternion(-0.0284166, -0.0236243, 0.105552, 0.993727)
bones/3/rotation = Quaternion(0.923643, 0.00997804, -0.0226808, 0.382452)
bones/4/rotation = Quaternion(-0.744967, -0.323825, -0.0816328, 0.577493)
bones/5/rotation = Quaternion(-0.0773523, -0.158161, -0.176371, 0.96845)
bones/6/rotation = Quaternion(0.467062, -0.0157568, -0.0130038, 0.883989)
bones/7/rotation = Quaternion(-0.39696, -0.0554403, -0.0758563, 0.913014)
bones/8/rotation = Quaternion(0.0272189, -0.0111878, -0.183284, 0.982619)
bones/9/rotation = Quaternion(0.0221674, -0.00257693, -0.379016, 0.925121)
bones/10/rotation = Quaternion(0.123125, -0.0134843, 0.0601465, 0.990475)
bones/11/rotation = Quaternion(-0.110759, -0.0165898, -0.183026, 0.976708)
bones/12/rotation = Quaternion(0.00584647, -0.000751872, -0.182688, 0.983153)
bones/13/rotation = Quaternion(0.0705193, 0.0105466, -0.217015, 0.973561)
bones/14/rotation = Quaternion(-0.29718, 0.0271561, 0.0407361, 0.953566)
bones/15/rotation = Quaternion(0.298426, 0.0621576, -0.291419, 0.906727)
bones/16/rotation = Quaternion(0.0555684, 0.00388571, -0.171233, 0.983655)
bones/17/rotation = Quaternion(0.041853, 0.00522523, -0.226256, 0.973154)
bones/18/rotation = Quaternion(-0.646783, -0.0468179, -0.0916526, 0.755698)
bones/19/rotation = Quaternion(0.578591, 0.157165, 0.00252464, 0.800328)
bones/20/rotation = Quaternion(0.0672277, 0.0171064, -0.191479, 0.979042)
bones/21/rotation = Quaternion(0.0610743, 0.0159017, -0.209202, 0.975834)
bones/22/position = Vector3(0.0881793, -0.0574678, 0.214905)
bones/22/rotation = Quaternion(-0.457516, -0.214817, 0.287823, 0.813444)
bones/23/rotation = Quaternion(0.0874331, -0.287968, -0.393647, 0.868603)
bones/24/rotation = Quaternion(0.918429, -0.0985148, 0.0592559, 0.378514)
bones/25/rotation = Quaternion(-0.629657, 0.290457, 0.0854031, 0.715453)
bones/26/rotation = Quaternion(-0.207062, 0.176269, 0.180079, 0.945318)
bones/27/rotation = Quaternion(0.464225, 0.0537625, -0.0590705, 0.882109)
bones/28/rotation = Quaternion(-0.461863, 0.0403741, 0.107287, 0.879512)
bones/29/rotation = Quaternion(-0.0298489, -0.0107589, 0.324611, 0.945315)
bones/30/rotation = Quaternion(-0.00917576, -0.00755846, 0.519498, 0.854389)
bones/31/rotation = Quaternion(0.122269, 0.0197976, -0.110996, 0.986072)
bones/32/rotation = Quaternion(-0.137764, 0.0146346, 0.232193, 0.962753)
bones/33/rotation = Quaternion(-0.0146616, -0.00587863, 0.29007, 0.956875)
bones/34/rotation = Quaternion(0.077167, -0.0386778, 0.304678, 0.948536)
bones/35/rotation = Quaternion(-0.295321, -0.0428822, -0.0912621, 0.950062)
bones/36/rotation = Quaternion(0.274071, -0.0696853, 0.299219, 0.911316)
bones/37/rotation = Quaternion(0.0416462, -0.00572325, 0.210195, 0.976755)
bones/38/rotation = Quaternion(0.0368018, -0.00605369, 0.261987, 0.96435)
bones/39/rotation = Quaternion(-0.647276, 0.0394383, 0.0830274, 0.756694)
bones/40/rotation = Quaternion(0.573288, -0.153331, 0.0191883, 0.804651)
bones/41/rotation = Quaternion(0.0645909, -0.00534267, 0.288419, 0.955308)
bones/42/rotation = Quaternion(0.0670952, -0.013192, 0.285423, 0.955959)
bones/43/position = Vector3(-0.051872, 0.090404, 0.0144772)
bones/44/position = Vector3(-0.000147107, 0.0640014, -0.00116055)

[node name="magichands" parent="Armature/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_qupw8")

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000147107, 0.0640014, -0.00116055)
bone_name = "Magic_Pos"
bone_idx = 44

[node name="Fireball-In-hand" parent="Armature/Skeleton3D/BoneAttachment3D" index="0" instance=ExtResource("4_pcsau")]

[node name="BoneAttachment3D2" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(0.326339, -0.943758, -0.0531426, 0.356086, 0.17482, -0.917955, 0.875617, 0.280642, 0.393109, 0.0342483, 0.0568407, 0.0507219)
bone_name = "Weapon_Pos"
bone_idx = 43

[node name="colt" parent="Armature/Skeleton3D/BoneAttachment3D2" index="0" instance=ExtResource("5_fjyl6")]
transform = Transform3D(1, 0, 0, 0, -1, -2.53518e-06, 0, 2.53518e-06, -1, 0.00188565, 0.016, -0.085)
visible = false

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_q5xbq")
anim_player = NodePath("../AnimationPlayer")
parameters/MotionBlend/blend_amount = 0.0
